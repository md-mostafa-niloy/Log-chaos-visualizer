version: '3.8'
services:
  log-chaos-visualizer:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        BASE_HREF: '/'
    image: log-chaos-visualizer:latest
    container_name: log-chaos-visualizer
    restart: unless-stopped
    environment:
      NODE_ENV: development
    healthcheck:
      test: ['CMD-SHELL', 'wget -q --spider http://localhost/ || exit 1']
      interval: 10s
      timeout: 5s
      retries: 3
    networks:
      - webproxy

networks:
  webproxy:
    external: true
