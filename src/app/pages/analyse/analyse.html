<h1 class="app-section-title">Log Analysis</h1>

@if (experimentalAnalysisEnabled()) {
  @if (showExperimentalWarning()) {
    <app-warning-banner
      (dismissed)="onDismissExperimentalWarning()"
      [dismissible]="true"
      ariaLive="polite"
      message="These experimental analysis features are under active development and may not work as intended. Results may be incomplete, inaccurate, or unstable. Use with caution and report any issues."
      role="alert"
      severity="warning"
      title="Experimental Features Active"
    />
  }

  @if (!hasData() && !isParsing()) {
    <div class="empty-state" role="status">
      <div class="empty-state__icon">ðŸ“Š</div>
      <h2 class="empty-state__title">No Log Data Available</h2>
      <p class="empty-state__description">To analyze log files, please upload a log file from the dashboard first.</p>
      <button (click)="goToDashboard()" class="empty-state__button" type="button">Go to Dashboard</button>
    </div>
  } @else {
    @if (isLoading()) {
      <div aria-live="polite" class="loading-container" role="status">
        <p class="loading-message">Loading log entries...</p>
      </div>
    }

    <section aria-label="Experimental analysis" class="experimental-analysis">
      <app-quick-filters />
      <app-analyse-log-table [entries]="tableEntries()" [isSearching]="isSearching()" />
    </section>
  }
}
